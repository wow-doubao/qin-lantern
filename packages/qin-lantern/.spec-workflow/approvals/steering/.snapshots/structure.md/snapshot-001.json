{
  "id": "snapshot_1768058909203_txg8tt1zl",
  "approvalId": "approval_1768058909198_g6thr6tnw",
  "approvalTitle": "项目结构文档 (Structure Steering Document)",
  "version": 1,
  "timestamp": "2026-01-10T15:28:29.203Z",
  "trigger": "initial",
  "status": "pending",
  "content": "# 项目结构文档\n\n## 目录结构\n```\npackages/qin-lantern/\n├── src/\n│   ├── components/       # UI 组件\n│   │   ├── [component]/  # 单个组件目录 (如 button, card)\n│   │   │   ├── index.ts  # 组件导出\n│   │   │   ├── index.vue # 组件实现 (逻辑部分)\n│   │   │   └── style/    # (新增) 组件样式目录\n│   │   │       └── index.scss # 组件样式文件\n│   ├── styles/           # (新增) 全局样式与变量\n│   │   ├── index.scss    # 样式入口\n│   │   └── variables.scss # SCSS 变量定义\n│   ├── resolver/         # 组件自动导入解析器\n│   │   └── index.ts      # QinLanternResolver 实现\n│   ├── utils/            # 工具函数\n│   └── index.ts          # 库的主入口\n├── dist/                 # 构建产物\n│   ├── es/               # ESM 模块\n│   ├── lib/              # CJS 模块 (可选)\n│   └── index.d.ts        # 类型定义\n├── .spec-workflow/       # 规范工作流配置\n└── vite.config.ts        # 构建配置\n```\n\n## 关键文件模式\n\n### 组件文件 (`src/components/[name]/index.vue`)\n- **逻辑**: 使用 `<script setup lang=\"ts\">`。\n- **样式**: **移除** `<style>` 块，改为在 SCSS 文件中定义样式。\n- **Props/Emits**: 使用 TypeScript 接口定义。\n- **命名空间**: 使用 Element Plus 的 `useNamespace` (或封装后的 hook) 生成类名，确保支持自定义命名空间。\n\n### 样式文件 (`src/components/[name]/style/index.scss`)\n- 定义组件特定的样式。\n- 使用 `BEM` 命名规范。\n- 引入全局变量文件以支持主题定制。\n\n### 解析器 (`src/resolver/index.ts`)\n- 实现 `QinLanternResolver` 函数。\n- 接收 `QinLanternResolverOptions` 接口参数：\n  - `importStyle`: `'sass' | boolean`\n  - `namespace`: `string` (默认 'el' 或 'ql'，需统一)\n\n## 编码规范\n- **命名**:\n  - 目录: kebab-case (如 `config-provider`)\n  - 组件文件: PascalCase (如 `ConfigProvider.vue`) 或 index.vue\n  - 类名: BEM 规范 (如 `el-button__icon`)，**必须**基于动态命名空间变量。\n- **TypeScript**: 严格模式，禁止隐式 `any`。\n- **Linting**: 遵循项目根目录的 ESLint 配置。\n\n## 构建配置 (`vite.config.ts`)\n- 配置 `rollupOptions` 以确保外部化依赖 (`element-plus`, `vue`)。\n- 配置插件以输出 SCSS 文件到 `dist` 目录，保持目录结构或扁平化输出（视 Resolver 需求而定）。\n",
  "fileStats": {
    "size": 2561,
    "lines": 58,
    "lastModified": "2026-01-10T15:28:22.470Z"
  },
  "comments": []
}